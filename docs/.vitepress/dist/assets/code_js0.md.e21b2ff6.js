import{_ as s,c as a,o as n,a as l}from"./app.7b5be229.js";const A=JSON.parse('{"title":"[JavaScript] var, let, const\u5DEE\u5225, Scope, Scope Chain, Closure","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u5F9EScope\u8AAA\u8D77","slug":"\u5F9Escope\u8AAA\u8D77","link":"#\u5F9Escope\u8AAA\u8D77","children":[]},{"level":2,"title":"Scope Chain","slug":"scope-chain","link":"#scope-chain","children":[]},{"level":2,"title":"Closure","slug":"closure","link":"#closure","children":[{"level":3,"title":"\u900F\u904E\u9589\u5305\u8B93 function \u80FD\u5920\u6709 private \u8B8A\u6578","slug":"\u900F\u904E\u9589\u5305\u8B93-function-\u80FD\u5920\u6709-private-\u8B8A\u6578","link":"#\u900F\u904E\u9589\u5305\u8B93-function-\u80FD\u5920\u6709-private-\u8B8A\u6578","children":[]}]}],"relativePath":"code/js0.md"}'),p={name:"code/js0.md"},o=l(`<h1 id="javascript-var-let-const\u5DEE\u5225-scope-scope-chain-closure" tabindex="-1">[JavaScript] var, let, const\u5DEE\u5225, Scope, Scope Chain, Closure <a class="header-anchor" href="#javascript-var-let-const\u5DEE\u5225-scope-scope-chain-closure" aria-hidden="true">#</a></h1><h2 id="\u5F9Escope\u8AAA\u8D77" tabindex="-1">\u5F9EScope\u8AAA\u8D77 <a class="header-anchor" href="#\u5F9Escope\u8AAA\u8D77" aria-hidden="true">#</a></h2><p>Scope \u5B9A\u7FA9\u4E86\u8B8A\u6578\u7684\u53EF\u53CA\u8207\u53EF\u8996\u7BC4\u570D</p><ul><li>Global scope (\u5168\u57DF\u8B8A\u6578)</li><li>function scope</li><li>Block scope (\u5728\u5176\u4ED6\u8A9E\u8A00\u4E2D\u7684\u5340\u57DF\u8B8A\u6578) \u57FA\u672C\u4E0A\u5F9E\u6211\u5BEB\u904E\u7684\u5176\u4ED6\u8A9E\u8A00\uFF0C\u5982C\u8A9E\u8A00\uFF0C\u5BA3\u544A\u5728\u6700\u5916\u5C64\u5C31\u662F1\uFF0C\u5728\u62EC\u865F\u5167\u5C31\u662F3\uFF0C\u800C2\u76EE\u524D\u53EA\u5728JS\u770B\u904E\uFF0C\u800C\u5728js\u4E2D\u6700\u6709\u8DA3\u7684\u5C31\u662F\u4E0B\u9762\u7684\u7A0B\u5F0F\u78BC</li></ul><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;">(</span><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> a </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> a</span><span style="color:#89DDFF;">++</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(a)</span></span>
<span class="line"></span></code></pre></div><p>\u5982\u679C\u4F60\u7528\u5176\u4ED6\u7A0B\u5F0F\u8A9E\u8A00\u7684\u908F\u8F2F\u4F86\u770B\uFF0C\u4E00\u5B9A\u6703\u8A8D\u70BA\u57F7\u884C\u7D50\u679C\u662Fa is not defined</p><p>\u4F46\u5BE6\u969B\u7684\u7D50\u679C\u662F\u53EF\u4EE5\u5370\u51FAa = 10</p><p>\u9019\u662F\u56E0\u70BA\u5728JS\u4E2D\uFF0Cvar\u6C92\u6709Block scope</p><p>\u800C\u5982\u679C\u5C07\u4E0A\u9762\u7A0B\u5F0F\u78BC\u7684var\u6539\u70BAlet\uFF0C\u5C31\u6703\u986F\u793Aa is not defined\u4E86</p><p>\u800C\u9019\u4E09\u500B\u90FD\u662F\u6709function scope\u7684\uFF0C\u4E5F\u5C31\u662F\u53EF\u4EE5\u7528function\u5207\u5272\u8B8A\u6578</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">iamfunction</span><span style="color:#89DDFF;">(){</span></span>
<span class="line"><span style="color:#F07178;"> </span><span style="color:#C792EA;">var</span><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(a)</span></span>
<span class="line"><span style="color:#676E95;">//ReferenceError: a is not defined</span></span>
<span class="line"></span></code></pre></div><h2 id="scope-chain" tabindex="-1">Scope Chain <a class="header-anchor" href="#scope-chain" aria-hidden="true">#</a></h2><p>\u731C\u731C\u770B\u9019\u500B\u7A0B\u5F0F\u6703\u5370\u51FA\u4EC0\u9EBC</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">bang</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">func1</span><span style="color:#89DDFF;">(){</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">var</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">boozoo</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">func2</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">func2</span><span style="color:#89DDFF;">(){</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#82AAFF;">func1</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"></span></code></pre></div><p>\u7B54\u6848\u662F...</p><p><code>bang</code></p><p>\u5728\u8DD1\u5230func2\u7684\u6642\u5019\uFF0C\u4ED6\u6703\u767C\u73FE\u9019\u500Bfunction scope\u88E1\u9762\u662F\u6C92\u6709a\u7684\uFF0C\u56E0\u6B64\u4ED6\u6703\u5617\u8A66\u5F80\u8A72funciont\u5B9A\u7FA9\u7684\u90A3\u5C64\u53BB\u627E\uFF0C\u800Cfunc2\u5B9A\u7FA9\u5728\u6700\u5916\u5C64\uFF0C\u56E0\u6B64\u5B58\u53D6\u5230\u7684\u662F\u6700\u5916\u5C64\u7684a\u3002</p><p>\u4ECA\u5929\u9023fun2()\u90A3\u5C64\u90FD\u6C92\u6709\uFF0C\u4ED6\u6703\u770B\u770B\u90A3\u4E00\u5C64\u5B9A\u7FA9\u7684\u5728\u54EA\uFF0C\u7E7C\u7E8C\u4E0D\u65B7\u5F80\u4E0A\u627E\uFF0C\u76F4\u5230\u6700\u6700\u5916\u5C64\u70BA\u6B62\u3002</p><p>\u91CD\u9EDE\u5728\u8A72funciont\u5B9A\u7FA9\u7684\u90A3\u5C64\u53BB\u627E\uFF0C\u81F3\u65BC\u662F\u8AB0\u547C\u53EB\u7684\uFF0C\u90A3\u4E26\u4E0D\u91CD\u8981\uFF0C\u9019\u53C8\u88AB\u7A31\u70BAstatic scope\u3002</p><h2 id="closure" tabindex="-1">Closure <a class="header-anchor" href="#closure" aria-hidden="true">#</a></h2><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">makeFunc</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">var</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Fooish</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;">// \u4E00\u500B\u5340\u57DF\u8B8A\u6578</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">displayName</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;">//scope chain</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">displayName</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;">// \u5275\u5EFA\u4E00\u500B closure</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> myFunc </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">makeFunc</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#82AAFF;">myFunc</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;">// \u986F\u793A Fooish</span></span>
<span class="line"></span></code></pre></div><p>\u5728\u5927\u90E8\u5206\u7A0B\u5F0F\u8A9E\u8A00\uFF0C\u51FD\u5F0F\u5167\u7684\u5340\u57DF\u8B8A\u6578\uFF0C\u53EA\u6703\u5728\u51FD\u5F0F\u7684\u57F7\u884C\u671F\u9593\u5B58\u5728\u3002\u7576 makeFunc() \u57F7\u884C\u5B8C\uFF0C\u4F60\u53EF\u80FD\u6703\u9810\u671F name \u8B8A\u6578\u518D\u4E5F\u7121\u6CD5\u4F7F\u7528\u3002\u4F46\u9019\u6BB5\u80FD\u7167\u820A\u904B\u884C\u7684\u7A0B\u5F0F\u78BC\u8868\u660E\u4E86\uFF0C\u5728 JavaScript \u4E26\u4E0D\u662F\u9019\u6A23\u505A\uFF0CJS\u5C31\u662F\u5982\u6B64\u8A6D\u7570(x\u3002</p><p>\u900F\u904E\u5728 function \u4E2D\u56DE\u50B3\u53E6\u4E00\u500B function \u7684\u5BEB\u6CD5\uFF0C\u5C31\u53EF\u4EE5\u628A name \u9019\u500B\u8B8A\u6578\u9396\u5728\u9019\u500B function \u88E1\u9762\uFF0C\u96A8\u6642\u80FD\u5920\u62FF\u51FA\u4F86\u4F7F\u7528\u3002</p><p>\u4E0A\u9762\u4F8B\u5B50\u4E2D\uFF0CmakeFunc() \u57F7\u884C\u6642\u56DE\u50B3\u4E00\u500B function\uFF0C\u540C\u6642\u81EA\u52D5\u5275\u5EFA\u4E86\u4E00\u500B closure \u74B0\u5883\u3002closure \u50CF\u662F\u4E00\u500B\u7279\u6B8A\u7684\u7269\u4EF6 (\u6307\u5B9A\u7D66\u4E86 myFunc)\uFF0Cclosure \u4E2D\u5305\u542B\u4E00\u500B\u51FD\u6578 (displayName)\uFF0C\u4EE5\u53CA\u51FD\u6578 (makeFunc) \u57F7\u884C\u7576\u6642\u7684\u74B0\u5883\uFF0C\u8B93\u4F60\u5728\u51FD\u6578\u8FD4\u56DE\u5F8C\u9084\u662F\u53EF\u4EE5\u6301\u7E8C\u5B58\u53D6 closure \u4FDD\u5B58\u7684\u74B0\u5883 (\u50CF\u662F\u80FD\u5B58\u53D6 name \u8B8A\u6578\uFF0Cname \u8B8A\u6578\u4E0D\u6703\u56E0\u70BA\u51FD\u6578\u56DE\u50B3\u5F8C\u800C\u88AB\u522A\u9664)\u3002</p><h3 id="\u900F\u904E\u9589\u5305\u8B93-function-\u80FD\u5920\u6709-private-\u8B8A\u6578" tabindex="-1">\u900F\u904E\u9589\u5305\u8B93 function \u80FD\u5920\u6709 private \u8B8A\u6578 <a class="header-anchor" href="#\u900F\u904E\u9589\u5305\u8B93-function-\u80FD\u5920\u6709-private-\u8B8A\u6578" aria-hidden="true">#</a></h3><p><img src="https://miro.medium.com/max/640/1*8AyDSe5wdUaKBU8jRfcoyg.png" alt=""><img src="https://miro.medium.com/max/268/1*Sm2TBDuowJimHzdUYJyfmg.png" alt=""></p><p>cat\u548Cdog\u90FD\u6709count\uFF0C\u4F46\u537B\u53EF\u4EE5\u5404\u81EA\u7368\u7ACB</p><hr><p>\u4EE5\u4E0B\u5167\u5BB9\u53D6\u81EA<a href="https://blog.techbridge.cc/2018/12/08/javascript-closure/" target="_blank" rel="noreferrer">https://blog.techbridge.cc/2018/12/08/javascript-closure/</a> \u7528\u6211\u81EA\u5DF1\u7684\u7406\u89E3\u518D\u6B21\u8A6E\u91CB</p><p><img src="https://miro.medium.com/max/720/1*K53lPQzdsuEC3Dul5HEfOw.png" alt=""> \u5728\u9019\u500B\u4F8B\u5B50\u4E2D\uFF0C\u5047\u8A2D\u9801\u9762\u4E0A\u6709\u4E94\u500B\u6309\u9215\uFF0C\u6211\u60F3\u8981\u7B2C\u4E00\u500B\u6309\u4E0B\u53BB\u6642\u5F48\u51FA 0\uFF0C\u7B2C\u4E8C\u500B\u6309\u4E0B\u53BB\u6642\u5F48\u51FA 1\uFF0C\u4EE5\u6B64\u985E\u63A8\uFF0C\u4F46\u5BE6\u969B\u4E0A\u537B\u6703\u767C\u751F\u600E\u9EBC\u6309\u90FD\u662F5</p><p>\u6211\u5011\u4F86\u770B\u770B\u57F7\u884C\u6D41\u7A0B</p><ol><li>\u7A0B\u5F0F\u57F7\u884C\uFF0C\u958B\u59CB\u8DD1\u7B2C\u4E00\u884C</li><li>\u958B\u59CBfor\uFF0C\u88E1\u9762\u6C92\u57F7\u884C\u4EC0\u9EBC(\u6C92\u4E8B\u4EF6)</li><li>\u6B64\u6642i = 5</li></ol><p>\u7136\u5F8C\u4F60\u9EDE\u64CA\u7684\u6642\u5019</p><ol><li>\u57F7\u884CaddEventListener\uFF0C\u767C\u73FE\u6C92\u6709i\u6B38\u4E7E</li><li>\u53EA\u597Dscope chain\u5F80\u4E0A\u627E</li><li>\u627E\u52305\u4E26\u8DF3\u51FAalert()</li></ol><p>\u90A3\u5982\u4F55\u89E3\u6C7A\u5462</p><p>\u5176\u5BE6\u5C31\u662F\u76F4\u63A5\u5EFA5\u500Bfunction\uFF0C\u5927\u6982\u50CF\u9019\u6A23</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">btn[</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">click</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">alert</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">btn[</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">click</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">alert</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">btn[</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">click</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">alert</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">btn[</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">click</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">alert</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">btn[</span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">click</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">alert</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">))</span></span>
<span class="line"></span></code></pre></div><p>\u4E0D\u904E\u9084\u662F\u5EFA\u8B70\u76F4\u63A5\u4F7F\u7528let\u53BB\u89E3\u6C7A</p>`,38),e=[o];function c(t,r,y,F,i,D){return n(),a("div",null,e)}const d=s(p,[["render",c]]);export{A as __pageData,d as default};
